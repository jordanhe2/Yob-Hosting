var Mouse={_lastX:0,_lastY:0,x:0,y:0,pressed:!1,pressActions:[],releaseActions:[],scrollActions:[],moveActions:[],attachListenerTo:function(e){var s=this;document.addEventListener("mousemove",function(t){s._lastX=s.x,s._lastY=s.y;var i=e.getBoundingClientRect();s.x=t.clientX-i.left,s.y=t.clientY-i.top,s.handleMove(s.x-s._lastX,s.y-s._lastY)},!1),document.addEventListener("mouseup",function(){s.handleRelease()},!1),e.addEventListener("mousedown",function(){s.handlePress()},!1),e.addEventListener("mousewheel",function(e){var t=0;t=Math.sign("wheelDelta"in e?e.wheelDelta:-40*e.detail),s.handleScroll(t)},!1)},addPressAction:function(e){this.pressActions.push(e)},addReleaseAction:function(e){this.releaseActions.push(e)},addScrollAction:function(e){this.scrollActions.push(e)},addMoveAction:function(e){this.moveActions.push(e)},removePressAction:function(e){-1!=this.pressActions.indexOf(e)&&this.pressActions.splice(this.pressActions.indexOf(e),1)},removeReleaseAction:function(e){-1!=this.releaseActions.indexOf(e)&&this.releaseActions.splice(this.releaseActions.indexOf(e),1)},removeScrollAction:function(e){-1!=this.scrollActions.indexOf(e)&&this.scrollActions.splice(this.scrollActions.indexOf(e),1)},removeMoveAction:function(e){-1!=this.moveActions.indexOf(e)&&this.moveActions.splice(this.moveActions.indexOf(e),1)},handlePress:function(){this.pressed=!0;for(var e=0;e<this.pressActions.length;e++)this.pressActions[e]()},handleRelease:function(){this.pressed=!1;for(var e=0;e<this.releaseActions.length;e++)this.releaseActions[e]()},handleScroll:function(e){for(var s=0;s<this.scrollActions.length;s++)this.scrollActions[s](e)},handleMove:function(e,s){for(var t=0;t<this.moveActions.length;t++)this.moveActions[t](e,s)}};
